{
    "name": "quill-build",
    "version": "1.0.0",
    "private": true,
    "scripts": {
        "setup": "git clone https://github.com/quilljs/quill.git && cd quill && npm install",
        "prebuild": "mkdir -p /yii/web/quill/2.0.3 && mkdir -p /yii/web/quill/2.0.3/highlight",
        "build-highlight": "mkdir -p /yii/web/quill/2.0.3/highlight && curl -o /yii/web/quill/2.0.3/highlight/default.min.css https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css && curl -o /yii/web/quill/2.0.3/highlight/highlight.min.js https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js",
        "build": "cd quill/packages/quill && npm install --no-fund --no-audit && (grep -q \"skipLibCheck\" tsconfig.json || sed -i 's/\"strictNullChecks\": true,/\"strictNullChecks\": true, \"skipLibCheck\": true,/g' tsconfig.json) && BROWSERSLIST_IGNORE_OLD_DATA=1 npm run build -- --format=umd --modules=formula,syntax && cp -r dist/dist/* /yii/web/quill/2.0.3/",
        "minify": "node ./node_modules/uglify-js/bin/uglifyjs /yii/web/quill/2.0.3/quill.js -o /yii/web/quill/2.0.3/quill.min.js",
        "clean": "rm -rf quill",
        "build-init": "cp src/js/editor-init.js /yii/web/quill/2.0.3/ && node ./node_modules/uglify-js/bin/uglifyjs /yii/web/quill/2.0.3/editor-init.js -o /yii/web/quill/2.0.3/editor-init.min.js",
        "build-and-minify": "npm run prebuild && npm run build && npm run minify && npm run build-highlight && npm run build-init",
        "build-all": "npm install && npm run clean && npm run setup && npm run build-and-minify",
        "build-worktree": "cp src/js/worktree-manager.js ../yii/web/js/",
        "watch": "npm run build-init && chokidar 'src/js/**/*.js' -c 'npm run build-init'"
    },
    "devDependencies": {
        "uglify-js": "^3.19.3",
        "chokidar-cli": "^3.0.0"
    },
    "dependencies": {
        "highlight.js": "^11.8.0"
    }
}
