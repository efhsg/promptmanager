USER_ID=1000
USER_NAME=appuser
TIMEZONE=Europe/Amsterdam
DB_ROOT_PASSWORD=promptmanager
DB_HOST=pma_mysql
DB_DATABASE=promptmanager
DB_DATABASE_TEST=promptmanager_test
DB_USER=promptmanager
DB_PASSWORD=promptmanager
DB_APP_PORT=3306
COMPOSE_PROFILES=local

# Database profile switching:
# DB_HOST and DB_APP_PORT above are the local defaults.
# To switch to a remote database, use switch-db.sh which writes .env.db (gitignored).
# When .env.db exists, its values override the defaults above.
# Without .env.db, docker compose falls back to these local defaults.
#
#   ./switch-db.sh local    — Docker MySQL (pma_mysql:3306)
#   ./switch-db.sh remote   — Zenbook via SSH tunnel (host.docker.internal:3307)
#   ./switch-db.sh status   — Show active profile
#
# The SSH tunnel uses the "zenbook" SSH config alias.
NGINX_PORT=8503
DB_PORT=3307
PHP_FPM_PORT=9001

# Application root inside the container.
# The /var/www/worktree/ parent allows sibling worktrees for isolated development
# (e.g., /var/www/worktree/feat-x/). Parent mount added in phase 2.
APP_ROOT=/var/www/worktree/main

XDEBUG_MODE=debug,develop
XDEBUG_START_WITH_REQUEST=trigger
XDEBUG_CLIENT_HOST=host.docker.internal
XDEBUG_PORT=9003
# Optional: set to override host/port when you explicitly want debugging on every request
# XDEBUG_CONFIG="client_host=host.docker.internal client_port=9876"
IDENTITY_DISABLE_CAPTCHA=TRUE

INCLUDED_TEST_MODULES=["modules/identity/tests"]

# Tailscale - NGINX binds to this IP in docker-compose.yml, so container
# won't start if this is unset or invalid. Get your IP with: tailscale ip -4
TAILSCALE_IP=100.x.x.x

# Database Sync (for syncing with remote zenbook via Tailscale)
SYNC_REMOTE_HOST=100.x.x.x        # Remote host Tailscale IP
SYNC_REMOTE_USER=esg              # SSH user on remote host
SYNC_REMOTE_DB_PASSWORD=xxx       # MySQL root password on remote
SYNC_REMOTE_DB_NAME=yii           # Database name (default: yii)
SYNC_SSH_KEY_PATH=                # Optional: path to SSH key (default: ~/.ssh/id_ed25519)

# YouTube Transcript Import
YTX_PATH=./ytx                    # Path to ytx.py script directory (mounted to /opt/ytx)
YTX_PYTHON_PATH=/usr/bin/python3  # Python interpreter path inside container
YTX_SCRIPT_PATH=/opt/ytx/ytx.py   # Path to ytx.py script inside container

# Claude CLI Integration
# Absolute path to your projects directory on the host (mounted as /projects in container).
# Used by Docker volume mount — do NOT use tilde (~).
PROJECTS_ROOT=/home/esg/projects

# Codex CLI Integration
# The ~/.codex/ directory is mounted read-write into the container because
# `codex auth` needs write access to store API credentials.
# Ensure ~/.codex/ exists on the host before starting the container.

# Maps host paths to container paths for Claude CLI execution.
# Format: JSON object {"host_path": "container_path", ...}
# The host prefix must match PROJECTS_ROOT (absolute path, no tilde).
PATH_MAPPINGS={"/home/esg/projects": "/projects"}

# Multiple Project Roots
# To mount additional project directories (e.g., a Windows drive alongside WSL):
#
# 1. Copy docker-compose.override.example.yml to docker-compose.override.yml
# 2. Set PROJECTS_ROOT_2 below and add it to PATH_MAPPINGS
# 3. Restart: docker compose down && docker compose up -d
#
# Then set each project's root_directory to the container path:
#   WSL projects:     /projects/myapp
#   Windows projects: /projects_2/mysite
#
# PROJECTS_ROOT_2=/c/www
# PATH_MAPPINGS={"/home/esg/projects": "/projects", "/c/www": "/projects_2"}
